<!DOCTYPE html>
<html>
    <head>
        <title>Hello ng-world!</title>


        <link rel="stylesheet" href="node_modules/reveal.js/css/reveal.css">
        <link rel="stylesheet" href="node_modules/reveal.js/css/theme/simple.css">
        <!-- Code syntax highlighting -->
        <link rel="stylesheet" href="node_modules/reveal.js/lib/css/zenburn.css">

        <link rel="stylesheet" href="styles/slides.css">
    </head>

    <body>
        <!-- lib scripts -->
        <script src="node_modules/reveal.js/lib/js/head.min.js"></script>
        <script src="node_modules/reveal.js/js/reveal.js"></script>


        <div class="reveal">
            <div class="slides">
                <!-- INTRO -->
                <section>
                    <div class="title">
                        <img src="images/protractor-logo.png">
                        <h1>Protractor styleguide</h1>
                    </div>
                    <div class="speaker">
                        <img class="avatar" src="images/carmen-profile.jpg"> 
                        <p>@CarmenPopoviciu</p>
                    </div>
                    <div class="speaker">
                        <img class="avatar" src="images/andres-profile.jpg">
                        <p>@andresdom</p>
                    </div>
                </section>

                <section>
                    <h2>TODO - some intro -</h2>
                </section>



                <!-- E2E GENERICS -->
                <section>
                    <h2>E2E Testing</h2>
                </section>

                <section>
                    <h2>Why is it important?</h2>
                    <ul>
                        <li class="fragment">Tells you that everything is OK</li>
                        <li class="fragment">Prevents production incidents</li>
                        <li class="fragment">Checks the app from the user's perspective</li>
                        <li class="fragment">Manual testing is not a good idea</li>
                    </ul>
                </section>

                <section>
                    <h2>What do we e2e test?</h2>
                    <ul>
                        <li class="fragment">Major subpages or routes in the site</li>
                        <li class="fragment">Main user interaction flows</li>
                        <li class="fragment">Essential elements on a page</li>
                    </ul>
                </section>



                <!-- RULES -->
                <section>
                    <h2>Protractor Styleguide</h2>
                </section>

                <section>
                    <h1>Our rules</h1>
                </section>

                <section>
                    <h2>#1</h2>
                    <p class="fragment">WHAT: Don't cheat on your tests</p>
                    <p class="fragment">WHY: Tests are there for a reason. You'll only be cheating on yourself.</p>
                </section>

                <section>
                    <h2>#2</h2>
                    <p class="fragment">WHAT: Don't e2e test what you can unit test</p>
                    <p class="fragment">WHY: Unit tests are much faster than e2e tests</p>
                </section>

                <section>
                    <h2>#3</h2>
                    <p class="fragment">WHAT: Don't e2e test what you already unit tested</p>
                    <p class="fragment">WHY: This one should be pretty obvious ;)</p>
                </section>

                <section>
                    <h2>#3</h2>
                    <p>WHAT: Don't e2e test what you already unit tested</p>
                    <p>WHY: Avoid duplicate tests</p>
                </section>

                <section>
                    <h2>#4</h2>
                    <p>WHAT: Put all e2e test files in one dedicated folder</p>
                    <p>WHY:
                        <ul>
                            <li>Easy to find</li>
                            <li>Separates them from unit tests</li>
                            <li>Cleaner folder structure</li>
                        </ul>
                    </p>
                </section>

                <section>
                    <pre>
                        <code class="javascript">
/* avoid */

|-- app
  |-- home
      home.module.js
      home.controller.js
      home.controller.spec.js
      home.e2e.spec.js
      home.page.js
  |-- profile
      profile.module.js
      profile.controller.js
      profile.directive.js
      profile.controller.spec.js
      profile.directive.page.js
      profile.page.js
      profile.e2e.spec.js
                        </code>
                    </pre>
                </section>

                <section>
                    <pre>
                        <code class="javascript">
/* recommended */

|-- app
  |-- home
      home.module.js
      home.controller.js
  |-- profile
      profile.module.js
      profile.controller.js
      profile.directive.js
|-- test
  |-- unit
      |-- ...
  |-- e2e
    |-- home
        homePageObject.js
        home.spec.js
    |-- profile
        profilePageObject.js
        profile.spec.js
                        </code>
                    </pre>
                </section>

                <section>
                    <pre>
                        <code class="javascript">
/* recommended */

|-- app
  |-- home
      home.module.js
      home.controller.js
      home.controller.spec.js
      |-- e2e
          homePageObject.js
          home.spec.js
  |-- profile
      profile.module.js
      profile.controller.js
      profile.directive.js
      profile.controller.spec.js
      profile.directive.spec.js
      |-- e2e
          profilePageObject.js
          profile.spec.js
                        </code>
                    </pre>
                </section>

                <section>
                    <h2>#5</h2>
                    <p>WHAT: Use one configuration file</p>
                    <p>WHY:
                        <ul>
                            <li>Use your build tool to setup different configurations</li>
                            <li>Avoid duplicate configuration code</li>
                        </ul>
                    </p>
                </section>

                <section>
                    <pre>
                        <code class="javascript">
/* avoid */

protractor.conf.local.js
protractor.conf.dev.js
protractor.conf.test.js
.....
                        </code>
                    </pre>
                </section>

                <section>
                    <pre>
                        <code class="javascript">
/* recommended */

/* protractor.conf.js */
exclude: [],
multiCapabilities: [{
    browserName: 'chrome',
    shardTestFiles: true,
    maxInstances: 3
}],
allScriptsTimeout: 11000,
getPageTimeout: 10000,
framework: 'jasmine',
jasmineNodeOpts: {
    isVerbose: false,
    showColors: true,
    includeStackTrace: false,
    defaultTimeoutInterval: 40000
}
                        </code>
                    </pre>
                </section>

                <section>
                    <pre>
                        <code class="javascript">
/* recommended */

/* Gruntfile.js */
// grunt-protractor-coverage config
e2e.local: {
    options: {
        args: {
            baseUrl: local_base_url,
            seleniumAddress: local_selenium_address,
            specs: ['..../**/*.spec.js']
        }
    }
},
e2e.dev: {
    options: {
        args: {
            baseUrl: dev_base_url,
            seleniumAddress: dev_selenium_address,
            specs: ['..../**/*.spec.js']
        }
    }
}
                        </code>
                    </pre>
                </section>

                <section>
                    <h2>#6</h2>
                    <p>WHAT: //locator strategies</p>
                </section>
            </div>
        </div>


        <!-- reveal.js initialization -->
        <script>
            Reveal.initialize({
                controls: false,
                progress: true,
                history: true,
                center: true,
                transition: 'fade', // none/fade/slide/convex/concave/zoom
                // Optional reveal.js plugins
                dependencies: [{
                    src: 'lib/js/classList.js',
                    condition: function() { return !document.body.classList; }
                },{
                    src: 'node_modules/reveal.js/plugin/highlight/highlight.js',
                    async: true,
                    condition: function() { return !!document.querySelector( 'pre code' ); },
                    callback: function() { hljs.initHighlightingOnLoad(); }
                }
                    //{ src: 'plugin/zoom-js/zoom.js', async: true },
                    //{ src: 'plugin/notes/notes.js', async: true }
                ]
            });
        </script>
    </body>
</html>